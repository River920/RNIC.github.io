<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Roblox Avatar Checker</title>
  <style>
    :root{--bg:#0b1020;--card:#131a33;--ink:#e9edff;--muted:#9aa6ff;--accent:#7aa2ff;--ok:#28c782;--bad:#ff6b6b}
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Helvetica,Arial,sans-serif;background:radial-gradient(1200px 800px at 20% -10%,#1a2250 0%,transparent 60%),radial-gradient(800px 800px at 110% 10%,#14204b 0%,transparent 55%),var(--bg);color:var(--ink)}
    .wrap{min-height:100svh;display:grid;place-items:center;padding:24px}
    .card{width:100%;max-width:680px;background:linear-gradient(180deg,rgba(255,255,255,0.06),rgba(255,255,255,0.02));backdrop-filter:blur(8px);border:1px solid rgba(255,255,255,0.1);border-radius:20px;box-shadow:0 10px 40px rgba(0,0,0,0.35)}
    .pad{padding:24px}
    h1{margin:0 0 6px;font-size:clamp(24px,2.8vw,34px)}
    p{margin:0 0 14px;color:var(--muted)}
    form{display:flex;gap:12px;flex-wrap:wrap;margin-top:10px}
    input[type="number"],input[type="text"]{flex:1 1 240px;padding:12px 14px;border-radius:12px;border:1px solid rgba(255,255,255,0.15);background:#0f1530;color:var(--ink);outline:none}
    button{padding:12px 16px;border-radius:12px;border:1px solid rgba(255,255,255,0.2);background:#1a2560;color:#fff;font-weight:700;cursor:pointer}
    button:hover{filter:brightness(1.1)}
    .row{display:flex;gap:16px;align-items:center;flex-wrap:wrap}
    .avatarBox{margin-top:18px;display:none}
    .avatar{width:160px;height:160px;border-radius:50%;border:3px solid rgba(255,255,255,0.25);object-fit:cover}
    .q{font-size:18px}
    .notice{font-size:12px;color:var(--muted);margin-top:8px}
    .msg{margin-top:10px;padding:10px 12px;border-radius:12px;display:none}
    .ok{background:rgba(40,199,130,0.15);border:1px solid rgba(40,199,130,0.35)}
    .bad{background:rgba(255,107,107,0.12);border:1px solid rgba(255,107,107,0.35)}
    .err{background:rgba(255,161,67,0.12);border:1px solid rgba(255,161,67,0.35)}
    .small{font-size:13px}
    .foot{margin-top:14px;font-size:12px;color:var(--muted)}
    a {color:#a7c4ff}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card pad">
      <h1>Roblox Avatar Checker</h1>
      <p>Enter a <strong>Roblox User ID</strong> (the number in your profile URL). We‚Äôll fetch the public avatar headshot and ask if it‚Äôs you. <em>No passwords. Nothing is stored.</em></p>

      <form id="lookupForm">
        <input id="userId" type="number" inputmode="numeric" placeholder="e.g. 12345678" required min="1" />
        <button type="submit">Show Avatar</button>
      </form>
      <div class="notice">Tip: Your User ID is the number at the end of <span class="small">https://www.roblox.com/users/<strong>#######</strong>/profile</span>.</div>

      <div id="error" class="msg err"></div>

      <div id="avatarBox" class="avatarBox">
        <div class="row" style="margin-top:10px">
          <img id="avatarImg" class="avatar" alt="Roblox avatar headshot" />
          <div>
            <div id="userLabel" class="small" style="opacity:.8"></div>
            <div class="q" style="margin-top:8px">Is this you?</div>
            <div class="row" style="margin-top:8px">
              <button id="yesBtn" type="button" aria-label="Yes">Yes üëç</button>
              <button id="noBtn" type="button" aria-label="No">No üëé</button>
            </div>
            <div id="answer" class="msg" style="margin-top:10px"></div>
          </div>
        </div>
        <div class="foot">If it‚Äôs not you, double‚Äëcheck the User ID. You can also search by username below.</div>
        <form id="nameForm" style="margin-top:10px">
          <input id="username" type="text" placeholder="Or enter a Roblox username" />
          <button type="submit">Find User ID</button>
        </form>
        <div id="nameHint" class="notice"></div>
      </div>

      <div class="foot">Privacy note: This only requests public images from Roblox‚Äôs thumbnail API. Never enter secrets or passwords on random sites.</div>
    </div>
  </div>

  <script>
    const $ = (id)=>document.getElementById(id);
    const form = $("lookupForm");
    const userIdInput = $("userId");
    const avatarBox = $("avatarBox");
    const avatarImg = $("avatarImg");
    const errorBox = $("error");
    const answerBox = $("answer");
    const userLabel = $("userLabel");
    const yesBtn = $("yesBtn");
    const noBtn = $("noBtn");
    const nameForm = $("nameForm");
    const usernameInput = $("username");
    const nameHint = $("nameHint");

    async function fetchAvatarById(userId){
      // Roblox Thumbnails API: avatar headshot, with CORS proxy
      const url = `https://corsproxy.io/?https://thumbnails.roblox.com/v1/users/avatar-headshot?userIds=${encodeURIComponent(userId)}&size=150x150&format=Png&isCircular=true`;
      const res = await fetch(url);
      if(!res.ok) throw new Error("Network error while fetching thumbnail");
      const data = await res.json();
      const item = data?.data?.[0];
      if(!item || !item.imageUrl){
        throw new Error("Could not find an avatar for that User ID");
      }
      return item.imageUrl;
    }

    async function fetchUserIdByUsername(username){
      // Roblox Users API with CORS proxy
      const res = await fetch("https://corsproxy.io/?https://users.roblox.com/v1/usernames/users", {
        method: "POST",
        headers: {"Content-Type":"application/json"},
        body: JSON.stringify({ usernames:[username], excludeBannedUsers:false })
      });
      if(!res.ok) throw new Error("Couldn't resolve username right now");
      const data = await res.json();
      const info = data?.data?.[0];
      if(!info || !info.hasOwnProperty("id")) throw new Error("Username not found");
      return info.id;
    }

    function showError(msg){
      errorBox.textContent = msg;
      errorBox.style.display = 'block';
      avatarBox.style.display = 'none';
      answerBox.style.display = 'none';
    }

    function clearError(){
      errorBox.style.display = 'none';
      errorBox.textContent = '';
    }

    form.addEventListener('submit', async (e)=>{
      e.preventDefault();
      clearError();
      answerBox.style.display = 'none';
      const id = userIdInput.value.trim();
      if(!id){ showError('Please enter a Roblox User ID.'); return; }
      try{
        const imgUrl = await fetchAvatarById(id);
        avatarImg.src = imgUrl;
        userLabel.textContent = `User ID: ${id}`;
        avatarBox.style.display = 'block';
      }catch(err){
        showError(err.message || 'Something went wrong.');
      }
    });

    yesBtn.addEventListener('click', ()=>{
      answerBox.className = 'msg ok';
      answerBox.textContent = 'Awesome! That means the User ID is correct.';
      answerBox.style.display = 'block';
    });
    noBtn.addEventListener('click', ()=>{
      answerBox.className = 'msg bad';
      answerBox.textContent = 'Not you? Try a different User ID or search by username below.';
      answerBox.style.display = 'block';
    });

    nameForm.addEventListener('submit', async (e)=>{
      e.preventDefault();
      nameHint.textContent = '';
      const uname = usernameInput.value.trim();
      if(!uname) return;
      try{
        const id = await fetchUserIdByUsername(uname);
        userIdInput.value = id;
        nameHint.textContent = `Found @${uname}: User ID ${id}. Click ‚ÄúShow Avatar.‚Äù`;
      }catch(err){
        nameHint.textContent = err.message || 'Could not find that username.';
      }
    });
  </script>
</body>
</html>
